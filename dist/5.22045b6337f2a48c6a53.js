(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/VwL":function(t,e,i){"use strict";i.r(e),i.d(e,"GameModule",function(){return A});var n=i("ofXK"),s=i("fXoL"),o=i("HDdC"),r=i("quSY");class c extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class d extends c{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,n=void 0;try{this.work(t)}catch(s){i=!0,n=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let a=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class l extends a{constructor(t,e=a.now){super(t,()=>l.delegate&&l.delegate!==this?l.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return l.delegate&&l.delegate!==this?l.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const b=new l(d);var u=i("DH7j");function h(t){return!Object(u.a)(t)&&t-parseFloat(t)+1>=0}var m=i("z+Ro");function p(t=0,e,i){let n=-1;return h(e)?n=Number(e)<1?1:Number(e):Object(m.a)(e)&&(i=e),Object(m.a)(i)||(i=b),new o.a(e=>{const s=h(t)?t:+t-i.now();return i.schedule(f,s,{index:0,period:n,subscriber:e})})}function f(t){const{index:e,period:i,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===i)return n.complete();t.index=e+1,this.schedule(t,i)}}var g=i("o9EK");let w=(()=>{class t{constructor(){this.timers={},this.subscription={}}getTimer(){return Object.keys(this.timers)}getSubscription(){return Object.keys(this.subscription)}newTimer(t,e,i=!1){if(void 0===t||void 0===e||this.timers[t])return!1;let n;return n=p(i?1e3*e:0,1e3*e),this.timers[t]={second:e,t:n},!0}newTimerCD(t,e,i=0){if(void 0===t||void 0===e||this.timers[t])return!1;let n;return n=p(1e3*i,1e3*e),this.timers[t]={second:e,t:n},!0}newTimerHR(t,e,i=0){if(void 0===t||void 0===e||this.timers[t])return!1;let n;return n=p(i,e),this.timers[t]={second:e,t:n},!0}delTimer(t){if(void 0===t||!this.timers[t])return!1;this.getSubscription().forEach(e=>{this.subscription[e].name===t&&this.unsubscribe(e)}),delete this.timers[t].t,delete this.timers[t]}subscribe(t,e){if(!this.timers[t])return"";let i=t+"-"+g.UUID.UUID();return this.subscription[i]={name:t,subscription:this.timers[t].t.subscribe(e)},i}unsubscribe(t){if(!t||!this.subscription[t])return!1;this.subscription[t].subscription.unsubscribe(),delete this.subscription[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();var x=i("tyNb"),v=i("j/b1");class C{constructor(){this.isGameStarted=!1}setIsGameRunning(t){this.isGameStarted=t}isGameRunning(){return this.isGameStarted}}var y=function(t){return t.STUDY="STUDY",t.TEST="TEST",t}({});class k extends C{checkType(t){return t===y.STUDY}getGameConfig(){return{statisticConfig:["score"]}}}class I extends C{checkType(t){return t===y.TEST}getGameConfig(){return{statisticConfig:["timer","words","score"]}}}let L=(()=>{class t{static getInstance(t){return this.instances.find(e=>e.checkType(t))}}return t.instances=[new k,new I],t})();var K=i("KksF");function T(t,e){if(1&t){const t=s.Mb();s.Lb(0,"div",6),s.Lb(1,"button",7),s.Sb("click",function(){s.Zb(t);const e=s.Ub();return e.initGame(e.gameTypeEnum.STUDY)}),s.dc(2,"Study"),s.Kb(),s.Lb(3,"button",8),s.Sb("click",function(){s.Zb(t);const e=s.Ub();return e.initGame(e.gameTypeEnum.TEST)}),s.dc(4,"Start test"),s.Kb(),s.Kb()}}function M(t,e){if(1&t&&(s.Lb(0,"span"),s.dc(1),s.Kb()),2&t){const t=s.Ub().$implicit;s.wb(1),s.fc(" ",t.word.toLowerCase()," ")}}function W(t,e){if(1&t&&(s.Lb(0,"span"),s.dc(1),s.Kb()),2&t){const t=s.Ub().$implicit;s.wb(1),s.fc(" ",t.translateWord.toLowerCase()," ")}}function O(t,e){if(1&t){const t=s.Mb();s.Jb(0),s.Lb(1,"button",18),s.Sb("click",function(){s.Zb(t);const i=e.$implicit,n=s.Ub().index;return s.Ub(2).clickToWord(n,i)}),s.cc(2,M,2,1,"span",19),s.cc(3,W,2,1,"span",19),s.Kb(),s.Ib()}if(2&t){const t=e.$implicit,i=s.Ub().index,n=s.Ub(2);s.wb(1),s.yb("opacity-zero",!t.isVisible)("btn-scale",0===i&&(null==n.selectedWord?null:n.selectedWord.id)===t.id||1===i&&(null==n.selectedTranslateWord?null:n.selectedTranslateWord.id)===t.id)("btn-not-equal",n.notEqual.isNotEqual&&0===i&&n.notEqual.selectedWordId===t.id||1===i&&n.notEqual.selectedTranslateWordId===t.id)("btn-equal",!n.notEqual.isNotEqual&&n.notEqual.selectedWordId===t.id),s.Xb("disabled",!t.isVisible||!(null!=n.instance&&n.instance.isGameRunning())||1===i&&!n.selectedWord),s.wb(1),s.Xb("ngIf",0===i),s.wb(1),s.Xb("ngIf",1===i)}}function S(t,e){if(1&t&&(s.Lb(0,"div",17),s.cc(1,O,4,11,"ng-container",14),s.Kb()),2&t){const t=e.$implicit;s.wb(1),s.Xb("ngForOf",t)}}function P(t,e){if(1&t&&(s.Lb(0,"div",21),s.Lb(1,"span",22),s.dc(2),s.Kb(),s.Lb(3,"span",23),s.dc(4),s.Kb(),s.Kb()),2&t){const t=s.Ub().$implicit,e=s.Ub(2);s.wb(2),s.fc(" ",t,": "),s.wb(2),s.fc(" ",e.timerCounter," ")}}function U(t,e){if(1&t&&(s.Lb(0,"div",21),s.Lb(1,"span",22),s.dc(2),s.Kb(),s.Lb(3,"span",23),s.dc(4),s.Kb(),s.Kb()),2&t){const t=s.Ub().$implicit,e=s.Ub(2);s.wb(2),s.fc(" ",t,": "),s.wb(2),s.gc(" ",e.wordsProgress," / ",e.sizeWordsRange," ")}}function R(t,e){if(1&t&&(s.Lb(0,"div",21),s.Lb(1,"span",22),s.dc(2),s.Kb(),s.Lb(3,"span",23),s.dc(4),s.Kb(),s.Kb()),2&t){const t=s.Ub().$implicit,e=s.Ub(2);s.wb(2),s.fc(" ",t,": "),s.wb(2),s.fc(" ",e.score," ")}}function _(t,e){if(1&t&&(s.Jb(0),s.cc(1,P,5,2,"div",20),s.cc(2,U,5,3,"div",20),s.cc(3,R,5,2,"div",20),s.Ib()),2&t){const t=e.$implicit;s.wb(1),s.Xb("ngIf","timer"===t),s.wb(1),s.Xb("ngIf","words"===t),s.wb(1),s.Xb("ngIf","score"===t)}}function E(t,e){if(1&t){const t=s.Mb();s.Lb(0,"button",26),s.Sb("click",function(){return s.Zb(t),s.Ub(3).runGame()}),s.dc(1),s.Kb()}if(2&t){const t=s.Ub(3);s.wb(1),s.ec(t.timerButton)}}function G(t,e){if(1&t){const t=s.Mb();s.Lb(0,"button",26),s.Sb("click",function(){return s.Zb(t),s.Ub(3).stopGame()}),s.dc(1),s.Kb()}if(2&t){const t=s.Ub(3);s.wb(1),s.ec(t.timerButton)}}function q(t,e){if(1&t&&(s.Lb(0,"div",24),s.cc(1,E,2,1,"button",25),s.cc(2,G,2,1,"button",25),s.Kb()),2&t){const t=s.Ub(2);s.wb(1),s.Xb("ngIf",!(null!=t.instance&&t.instance.isGameRunning())),s.wb(1),s.Xb("ngIf",null==t.instance?null:t.instance.isGameRunning())}}function z(t,e){if(1&t&&(s.Lb(0,"div",9),s.Lb(1,"div",10),s.cc(2,S,2,1,"div",11),s.Kb(),s.Lb(3,"div",12),s.Lb(4,"div",13),s.cc(5,_,4,3,"ng-container",14),s.Kb(),s.Lb(6,"div",15),s.cc(7,q,3,2,"div",16),s.Kb(),s.Kb(),s.Kb()),2&t){const t=s.Ub();s.wb(2),s.Xb("ngForOf",t.wordsColumns),s.wb(3),s.Xb("ngForOf",t.gameConfig.statisticConfig),s.wb(2),s.Xb("ngIf",t.gameConfig)}}function X(t,e){if(1&t&&(s.Lb(0,"span",23),s.dc(1),s.Kb()),2&t){const t=s.Ub(2);s.wb(1),s.fc(" ",t.mistake/t.sizeWordsRange*100,"% ")}}function j(t,e){if(1&t&&(s.Lb(0,"span",23),s.dc(1),s.Kb()),2&t){const t=s.Ub(2);s.wb(1),s.fc(" ",t.mistake,"% ")}}function D(t,e){if(1&t){const t=s.Mb();s.Lb(0,"div",27),s.Sb("click",function(){return s.Zb(t),s.Ub().isModalShow=!1}),s.Lb(1,"div",28),s.Sb("click",function(t){return t.stopPropagation()}),s.Lb(2,"div",29),s.Lb(3,"div",30),s.Lb(4,"p",31),s.dc(5," Result "),s.Kb(),s.Lb(6,"button",32),s.Sb("click",function(){return s.Zb(t),s.Ub().isModalShow=!1}),s.dc(7," X "),s.Kb(),s.Kb(),s.Lb(8,"div",33),s.Lb(9,"div",34),s.Lb(10,"span",22),s.dc(11," Your score: "),s.Kb(),s.Lb(12,"span",23),s.dc(13),s.Kb(),s.Kb(),s.Lb(14,"div",34),s.Lb(15,"span",22),s.dc(16," Words: "),s.Kb(),s.Lb(17,"span",23),s.dc(18),s.Kb(),s.Kb(),s.Lb(19,"div",34),s.Lb(20,"span",22),s.dc(21," Wrong: "),s.Kb(),s.Lb(22,"span",23),s.dc(23),s.Kb(),s.Kb(),s.Lb(24,"div",34),s.Lb(25,"span",22),s.dc(26," Mistake: "),s.Kb(),s.cc(27,X,2,1,"span",35),s.cc(28,j,2,1,"span",35),s.Kb(),s.Lb(29,"div",34),s.Lb(30,"span",22),s.dc(31," Time: "),s.Kb(),s.Lb(32,"span",23),s.dc(33),s.Vb(34,"date"),s.Kb(),s.Kb(),s.Kb(),s.Lb(35,"div",36),s.Lb(36,"button",37),s.Sb("click",function(){return s.Zb(t),s.Ub().isModalShow=!1}),s.dc(37," Close "),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb()}if(2&t){const t=s.Ub();s.wb(13),s.fc(" ",t.score," "),s.wb(5),s.gc(" ",t.wordsProgress," / ",t.sizeWordsRange," "),s.wb(5),s.fc(" ",t.mistake," "),s.wb(4),s.Xb("ngIf",t.mistake),s.wb(1),s.Xb("ngIf",!t.mistake),s.wb(5),s.fc(" ",s.Wb(34,7,t.totalGameTime,"mm:ss")," ")}}const N=[{path:"",component:(()=>{class t{constructor(t,e){this.simpleTimer=t,this.wordsService=e,this.score=0,this.notEqual={isNotEqual:!1,selectedWordId:"",selectedTranslateWordId:""},this.responseWords=[],this.words=[],this.wordsRandom=[],this.wordsColumns=[],this.timerCounter=60,this.timerName="60 sec",this.timerButton="Start",this.gameTypeEnum=y,this.wordsProgress=0,this.mistake=0,this.wordsRange=[],this.wordsRangeStartIndex=0,this.sizeWordsRange=10,this.wordsRangeEndIndex=this.sizeWordsRange,this.isModalShow=!1}ngOnInit(){this.initWords()}initGame(t){t===y.STUDY&&(this.timerCounter=9999),this.instance=L.getInstance(t),this.gameConfig=this.instance.getGameConfig(),this.wordsColumns=[],this.wordsProgress=0,this.score=0,this.mistake=0,this.wordsRangeStartIndex=0}runGame(){var t;this.wordsColumns=[],this.wordsProgress=0,this.score=0,this.mistake=0,this.wordsRangeStartIndex=0,this.wordsRangeEndIndex=this.sizeWordsRange,this.words=this.shuffle(this.responseWords).map(t=>new v.a(t));const e=this.getWordsRange(this.wordsRangeStartIndex,this.wordsRangeEndIndex,this.words);this.wordsColumns.push(e),this.wordsRandom=this.shuffle(e),this.wordsColumns.push(this.wordsRandom),null===(t=this.instance)||void 0===t||t.setIsGameRunning(!0),this.simpleTimer.newTimer(this.timerName,1,!0),this.subscribeTimer(),this.startGameTime=(new Date).getTime()}stopGame(){var t;this.endGameTime=(new Date).getTime(),this.totalGameTime=new Date(this.endGameTime-this.startGameTime),null===(t=this.instance)||void 0===t||t.setIsGameRunning(!1),this.subscribeTimer(),this.gameConfig=null,this.wordsColumns=[],this.isModalShow=!0}getWordsRange(t,e,i){return i.slice(t,e)}clickToWord(t,e){if(0===t)this.selectedWord=e;else{this.selectedTranslateWord=e;const t=this.selectedWord.id===this.selectedTranslateWord.id;t?(this.wordsProgress++,this.score++):this.mistake++,this.notEqual.isNotEqual=!t,this.notEqual.selectedWordId=this.selectedWord.id,this.notEqual.selectedTranslateWordId=this.selectedTranslateWord.id,setTimeout(()=>{if(e.isVisible=!t,this.notEqual={isNotEqual:!1,selectedWordId:"",selectedTranslateWordId:""},this.wordsProgress===this.sizeWordsRange){this.wordsProgress=0,this.wordsColumns=[];const t=this.getWordsRange(this.wordsRangeStartIndex+=this.sizeWordsRange,this.wordsRangeEndIndex+=this.sizeWordsRange,this.words);this.wordsColumns.push(t),this.wordsRandom=this.shuffle(t),this.wordsColumns.push(this.wordsRandom)}},300),this.selectedWord=this.selectedTranslateWord={word:"",translateWord:"",id:"",isVisible:!1}}}initWords(){this.words$=this.wordsService.getWords(),this.words$.subscribe(t=>{this.responseWords=t,this.responseWords=this.responseWords.map(t=>new v.a(t))})}subscribeTimer(){this.timerId?(this.simpleTimer.unsubscribe(this.timerId),this.timerId=null,this.timerButton="Start",this.timerCounter=60):(this.timerId=this.simpleTimer.subscribe(this.timerName,()=>this.timerCallback()),this.timerButton="Finish")}timerCallback(){this.timerCounter--,0===this.timerCounter&&(this.stopGame(),this.timerCounter=60,this.subscribeTimer())}shuffle(t){return[...t].sort(()=>Math.random()-.5)}}return t.\u0275fac=function(e){return new(e||t)(s.Gb(w),s.Gb(K.a))},t.\u0275cmp=s.Ab({type:t,selectors:[["ng-component"]],decls:7,vars:3,consts:[[1,"container"],[1,"header"],[1,"title"],["class","game-config",4,"ngIf"],["class","game-section",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"game-config"],[1,"btn","btn-white","mb-40",3,"click"],[1,"btn","btn-purple",3,"click"],[1,"game-section"],[1,"game-field","background-wrapper"],["class","column",4,"ngFor","ngForOf"],[1,"game-control-wrapper"],[1,"game-statistic"],[4,"ngFor","ngForOf"],[1,"game-control"],["class","testGameControl",4,"ngIf"],[1,"column"],[1,"btn","btn-word",3,"disabled","click"],[4,"ngIf"],["class","background-wrapper statistic-item-wrapper",4,"ngIf"],[1,"background-wrapper","statistic-item-wrapper"],[1,"statistic-item-label"],[1,"statistic-item-value"],[1,"testGameControl"],["class","btn btn-white",3,"click",4,"ngIf"],[1,"btn","btn-white",3,"click"],[1,"modal",3,"click"],[1,"modal-dialog",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"statistic-item-wrapper"],["class","statistic-item-value",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn-close",3,"click"]],template:function(t,e){1&t&&(s.Lb(0,"div",0),s.Lb(1,"header",1),s.Lb(2,"h1",2),s.dc(3,"Memories words"),s.Kb(),s.Kb(),s.cc(4,T,5,0,"div",3),s.cc(5,z,8,3,"div",4),s.Kb(),s.cc(6,D,38,10,"div",5)),2&t&&(s.wb(4),s.Xb("ngIf",!e.gameConfig&&!e.isModalShow),s.wb(1),s.Xb("ngIf",e.gameConfig),s.wb(1),s.Xb("ngIf",e.isModalShow))},directives:[n.j,n.i],pipes:[n.d],styles:[".header[_ngcontent-%COMP%]{padding-top:40px}.title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:72px;font-family:Lora,sans-serif;font-weight:400;background:-webkit-linear-gradient(#fff,#380835);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.game-config[_ngcontent-%COMP%]{margin-top:250px;display:flex;flex-direction:column;align-items:center}.game-section[_ngcontent-%COMP%]{margin-top:40px;height:100%;padding-bottom:40px}.game-field[_ngcontent-%COMP%], .game-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.game-field[_ngcontent-%COMP%]{width:50%}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:40%}.background-wrapper[_ngcontent-%COMP%]{background:rgba(167,171,174,.08);border-radius:30px;padding:1rem 2rem;text-align:end}.statistic-item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.statistic-item-label[_ngcontent-%COMP%]{color:purple;font-size:36px;width:50%}.statistic-item-value[_ngcontent-%COMP%]{text-align:center;margin-left:10px;font-size:36px;width:50%}.game-control-wrapper[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:column;justify-content:flex-end}.game-control[_ngcontent-%COMP%]{display:flex}.game-statistic[_ngcontent-%COMP%]{margin-bottom:100px;height:100%;display:flex;flex-direction:column;justify-content:space-between}.btn[_ngcontent-%COMP%]{background:#fff;border-radius:20px;border:none;cursor:pointer;font-size:48px;padding:.75rem 1.5rem}.btn-white[_ngcontent-%COMP%]{color:#4e0c4b}.btn-purple[_ngcontent-%COMP%]{color:#fff;background-color:#4e0c4b}.btn-word[_ngcontent-%COMP%]{background:#4e0c4b;border-radius:30px;font-size:24px;height:50px}.btn-scale[_ngcontent-%COMP%], .btn-word[_ngcontent-%COMP%]:hover{background-color:#620f5e;box-shadow:0 0 10px 3px hsla(0,0%,100%,.2)}.btn-scale[_ngcontent-%COMP%]{transform:scale(1.1)}.btn-not-equal[_ngcontent-%COMP%]{box-shadow:0 0 10px 3px rgba(253,0,0,.76)!important}.btn-equal[_ngcontent-%COMP%]{box-shadow:0 0 10px 3px rgba(119,255,0,.76)!important}.btn-close[_ngcontent-%COMP%]{box-sizing:initial;padding:.25em;color:#4e0c4b;font-size:24px;border:0;border-radius:.25rem;opacity:.5;cursor:pointer}.opacity-zero[_ngcontent-%COMP%]{opacity:0}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1060;display:block;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;max-width:500px;margin:10rem auto;pointer-events:none}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:rgba(167,171,174,.08);border-radius:30px;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);outline:0}.modal-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:.75rem 1.5rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5;color:purple;font-size:36px}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:20px 50px;display:flex;flex-direction:column;justify-content:space-around}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem 1.5rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}"]}),t})()}];let $=(()=>{class t{}return t.\u0275mod=s.Eb({type:t}),t.\u0275inj=s.Db({factory:function(e){return new(e||t)},imports:[[x.a.forChild(N)],x.a]}),t})(),A=(()=>{class t{}return t.\u0275mod=s.Eb({type:t}),t.\u0275inj=s.Db({factory:function(e){return new(e||t)},providers:[w,K.a],imports:[[n.b,$]]}),t})()},o9EK:function(t,e,i){"use strict";e.UUID=function(){function t(){}return t.UUID=function(){if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){var t=new Uint16Array(8);return window.crypto.getRandomValues(t),this.pad4(t[0])+this.pad4(t[1])+"-"+this.pad4(t[2])+"-"+this.pad4(t[3])+"-"+this.pad4(t[4])+"-"+this.pad4(t[5])+this.pad4(t[6])+this.pad4(t[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},t.pad4=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e},t.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t}()}}]);